<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Voc√™ ‚ù§Ô∏è</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: 'Helvetica', sans-serif;
    background: linear-gradient(to bottom right, #ffdde1, #ee9ca7);
    overflow-x: hidden;
    position: relative;
  }

  /* Caixa de texto no in√≠cio da p√°gina */
  .message-box {
    width: 90%;
    max-width: 600px;
    margin: 40px auto 20px auto;
    background: rgba(255,255,255,0.95);
    border-radius: 2rem;
    padding: 2rem;
    box-shadow: 0 5px 30px rgba(0,0,0,0.3);
    text-align: center;
    z-index: 10;
  }
  .message-box h1 { color: #ff4081; font-weight: bold; font-size: 2rem; margin-bottom: 1rem; }

  #typed-text { text-align: left; margin-top: 1rem; }

  /* Fade-in das fotos */
  .foto {
    width: 90%;
    max-width: 600px;
    display: block;
    margin: 2rem auto;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 1.5s ease-out, transform 1.5s ease-out;
    border-radius: 20px;
    box-shadow: 0 5px 25px rgba(0,0,0,0.3);
    position: relative;
    z-index: 1;
  }
  .foto.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Bot√£o iniciar m√∫sica */
  .play-button {
    background: #ff4081;
    color: white;
    font-weight: bold;
    padding: 0.75rem 1.5rem;
    border-radius: 9999px;
    margin-top: 1rem;
    cursor: pointer;
    transition: background 0.3s;
  }
  .play-button:hover { background: #ff1c63; }

  /* Cora√ß√µes - tela inteira */
  .heart {
    position: absolute;
    color: rgba(255,0,100,0.7);
    pointer-events: none;
    z-index: 5;
    font-size: 20px;
    animation: floatUp linear forwards;
  }

  @keyframes floatUp {
    0% { transform: translateY(0) rotate(0deg); opacity: 1; }
    100% { transform: translateY(-120vh) rotate(360deg); opacity: 0; }
  }
</style>
</head>
<body>

<!-- Caixa de texto -->
<div class="message-box">
  <h1>Oi, meu amor ‚ù§Ô∏è</h1>
  <div id="typed-text"></div>
  <button id="playButton" class="play-button">Clique aqui para ouvir a m√∫sica üéµ</button>
</div>

<!-- Fotos da p√°gina -->
<img src="foto1.jpg" class="foto">
<img src="foto2.jpg" class="foto">
<img src="foto3.jpg" class="foto">
<!-- adicione mais fotos conforme necess√°rio -->

<!-- YouTube oculto para √°udio -->
<div id="youtube-audio" style="width:0;height:0;overflow:hidden;">
  <div id="player"></div>
</div>

<!-- Script fade-in fotos usando IntersectionObserver -->
<script>
const fotos = document.querySelectorAll('.foto');

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if(entry.isIntersecting){
      entry.target.classList.add('visible');
      observer.unobserve(entry.target);
    }
  });
}, { threshold: 0.2 });

fotos.forEach(foto => observer.observe(foto));
</script>

<!-- Script digitando frases apenas uma vez -->
<script>
const frases = [
  "Voc√™ √© o melhor presente da minha vida üíñ",
  "Eu te amo mais do que palavras podem dizer üåπ",
  "Obrigado por existir e ser minha luz ‚ú®",
  "Cada momento com voc√™ √© m√°gico üíï"
];
const typedText = document.getElementById("typed-text");

let fraseIndex = 0;
let charIndex = 0;

function typeFrase() {
  if(fraseIndex >= frases.length) return;

  const frase = frases[fraseIndex];
  if(charIndex < frase.length){
    typedText.innerHTML += frase.charAt(charIndex);
    charIndex++;
    setTimeout(typeFrase, 100);
  } else {
    typedText.innerHTML += "<br>";
    fraseIndex++;
    charIndex = 0;
    setTimeout(typeFrase, 500);
  }
}
window.addEventListener('load', typeFrase);
</script>

<!-- Script chuva de cora√ß√µes -->
<script>
function criarCoracao() {
  const heart = document.createElement('div');
  heart.classList.add('heart');
  heart.innerHTML = "‚ù§Ô∏è";
  heart.style.left = Math.random() * 100 + "vw";
  heart.style.fontSize = Math.random() * 30 + 15 + "px";
  heart.style.animationDuration = (Math.random() * 5 + 5) + "s";
  const pageHeight = document.body.scrollHeight;
  heart.style.top = Math.random() * pageHeight + "px";
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 10000);
}
setInterval(criarCoracao, 300);
</script>

<!-- Script YouTube com fade e in√≠cio em 34s na segunda repeti√ß√£o -->
<script src="https://www.youtube.com/iframe_api"></script>
<script>
let player;
let repeatCount = 0;

function onYouTubeIframeAPIReady() {
  player = new YT.Player('player', {
    height: '0',
    width: '0',
    videoId: 'qDzDHBqh_K8',
    playerVars: { autoplay: 0, controls: 0, modestbranding: 1 },
    events: { 'onReady': onPlayerReady, 'onStateChange': onPlayerStateChange }
  });
}

function fadeVolume(targetVolume, duration) {
  const currentVolume = player.getVolume();
  const stepTime = 50;
  const steps = duration / stepTime;
  const volumeStep = (targetVolume - currentVolume) / steps;
  let stepCount = 0;
  const fade = setInterval(() => {
    stepCount++;
    const newVol = currentVolume + volumeStep * stepCount;
    player.setVolume(Math.min(Math.max(newVol, 0), 100));
    if(stepCount >= steps) clearInterval(fade);
  }, stepTime);
}

function onPlayerReady(event) {
  const playButton = document.getElementById('playButton');
  playButton.addEventListener('click', () => {
    player.setVolume(0);
    player.playVideo();
    fadeVolume(100, 2000);
    playButton.style.display = 'none';
  });
}

function onPlayerStateChange(event) {
  if(event.data === YT.PlayerState.ENDED){
    repeatCount++;
    if(repeatCount === 1){
      player.seekTo(0);
      player.playVideo();
    } else {
      player.setVolume(0);
      player.seekTo(34, true);
      player.playVideo();
      fadeVolume(100, 2000);
    }
  }
}
</script>

</body>
</html>
